# pcp.io 翻訳プロジェクト 翻訳ガイド

pcp.io 翻訳プロジェクトでは、[pcp.io](https://pcp.io) の翻訳に取り組んでいます。

## 翻訳方式

[pcp.io](https://pcp.io)はHTMLで記述された静的サイトです。
レポジトリは [https://github.com/performancecopilot/pcp-website](https://github.com/performancecopilot/pcp-website ) に存在し、CC BY 3.0 に基づき公開されています。
本プロジェクトでは、HTMLファイルからpo4aというユーティリティを用いてテキストを抽出し、翻訳してHTMLファイルに書き戻してビルドすることで日本語版サイトを構築する方式を採っています。
po4aを用いたテキストの抽出、翻訳メモリを用いた訳文の適用、機械翻訳による下訳、書き戻し処理のワークフローは、本レポジトリのGitHub Actionsによって自動化されており、
抽出されたテキストは翻訳テキストを管理するファイル形式である、.poファイルとして、[l10nディレクトリ](l10n) 以下に保存されています。

## 翻訳への貢献

翻訳に貢献頂ける場合、本レポジトリをローカルにcloneし、手元で[l10nディレクトリ](l10n) 配下の.poファイルを編集してPull-Requestをお送り下さい。
各ファイルの翻訳状況は、[こちら](l10n/stats/translation.csv)から確認できます。

## 翻訳着手の宣言

同じファイルを複数のメンバが同時に作業着手し、重複して作業して無駄が発生するのを避ける為、翻訳作業に着手する際は、
GitHubのIssueで、どのファイル、範囲を対象に作業着手するか宣言をお願いします。
Issueを立てる際は逆に既存のIssueで既に誰かが対象に対して作業着手を宣言していないか、ご確認下さい。

### 翻訳作業

.poファイルは、テキストファイルですが、様々な翻訳補助ツールが編集に対応しています。例えば、[POEdit](https://poedit.net/) は
Windows/Mac/Linux での実行に対応しており、ショートカットキーも充実していることから、編集する際に使用すると便利です。

### 翻訳対象の自動取込、自動下訳

翻訳対象のファイルは、[pcp.io](https://pcp.io)が更新されますと定期的に本レポジトリにGitHub Actionsのワークフローにより、
自動で取り込まれ、.poファイルが作成されます。.poファイルには翻訳メモリに収録された既存の訳文や、
[quarkus-adoc-po-translator](https://github.com/doc-l10n-kit/quarkus-adoc-po-translator) を用いて
DeepL APIで自動で翻訳した訳文が挿入されますので、翻訳の際の下訳としてご活用下さい。

但し、あくまでも機械翻訳な為、てにおは等が不自然な部分も多く、「要確認」（fuzzy）としてマークされており、「要確認」マークを外さない限り、翻訳として反映されません。
訳文をレビュー、修正し、「要確認」マークを外して下さい。

### 翻訳不要文の扱い

ソースコードやURL等、全体が翻訳不要なセンテンスが.poファイルに含まれている場合があります。
その場合は原文をそのままコピーする必要は「ありません」。そのまま、訳文は空欄のままにして下さい。そうすると、原文がそのまま使用されます。

### 翻訳結果のプレビュー

.poファイルを翻訳し、Pull-Requestを頂ければ、自動でGitHub Actionsでサイトのビルドが行われ、一時的にサイトを閲覧できるURLが
GitHubのPull-Requestに対するコメントとして5分程度で送信されます。
そちらの一時サイトから、翻訳結果のプレビューを確認することが出来ますので、ご活用下さい。
